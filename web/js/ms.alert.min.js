(function(A){A.alertTimeLine=function(B,D){var C={prop:{expr:null,view:null,begin:0,end:0,span:0,length:0,data:[]},bind:function(){var G=C.prop.view.find("p");var H=G.length;if(H){for(var F=0;F<H;++F){var I=G.eq(F);I.transition({top:I.attr("top")+"%",opacity:1},(F+1)*200)}}if(!C.prop.data||!C.prop.data.length){return false}var J=false;G.click(function(){G.removeClass("act");var K=A(this).addClass("act").attr("target");J=true;A.scrollTo(K);setTimeout(function(){J=false},500)}).attr("title","Look at that day");var E=A(".grlh3");A(window).scroll(function(){if(!J){var L=A(this).scrollTop();var M=0;var N=E.length;for(var K=N-1;K>=0;--K){if(L>=E.eq(K).offset().top){M=K;break}}G.removeClass("act").eq(M).addClass("act")}})},init:function(O,H){O=O?O:".tlview";var G=A(O?O:".tlview");if(!G.find(".tlsv").length){G.empty();var I,Q,N,L=[],E=["Jan.","Feb.","Mar.","Apr."," May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."];var J=function(R){if("string"==typeof(R)&&10==R.length){return new Date(Date.parse(R))}};I=A("<div></div>").appendTo(G);I.addClass("tlsv").append('<span class="tl"></span>');C.prop.expr=O;C.prop.data=H;C.prop.view=G;if(H&&H.length){C.prop.length=H.length;C.prop.end=J(H[0].date).getTime();C.prop.begin=J(H[C.prop.length-1].date).getTime();C.prop.span=C.prop.end-C.prop.begin;Q=C.prop.begin;N=C.prop.span;for(var M=0;M<C.prop.length;++M){var P=J(H[M].date);var F=(1-(P.getTime()-Q)/N)*100;var K=E[P.getMonth()]+(P.getDate()<10?"0"+P.getDate():P.getDate());L.push('<p target=".grlh3:eq('+M+')" top="'+(F||0===F?F:50)+'" style="top:50%;opacity:0"><i></i><b>'+H[M].num+"</b><span>"+K+"</span></p>")}}else{L.push('<p top="50" style="top:50%;opacity:0"><i></i><b>0</b><span>No Alert</span></p>')}I.append(L.join(""));C.bind()}return C},destroy:function(E){C.prop.view.fadeOut(500,function(){A(this).empty().css({display:"block"});if("function"==typeof(E)){E()}})}};return C.init(B,D)}})(jQuery);